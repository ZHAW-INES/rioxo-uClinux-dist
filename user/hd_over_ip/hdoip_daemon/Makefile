EXEC = hdoipd
OBJS = hdoipd_main.o

CFLAGS += -I.
OBJS   +=   edid/edid.o
OBJS   +=   edid/edid_report.o
OBJS   +=   edid/edid_merge.o
OBJS   +=   edid/cea_861.o
CFLAGS += -Iedid
CFLAGS += -Iupdate
OBJS   +=   update/altremote.o
OBJS   +=   update/flash.o
OBJS   +=   update/update.o
OBJS   +=   update/util.o
CFLAGS += -Ilib
OBJS   +=   lib/linked_list.o
OBJS   +=   lib/bstree.o
OBJS   +=   lib/bstmap.o
CFLAGS += -Idriver
OBJS   +=   driver/hoi_drv_user.o
OBJS   +=   driver/hoi_drv_str.o
CFLAGS += -Ifsm
OBJS   +=   fsm/hdoipd_callback.o
OBJS   +=   fsm/hdoipd_cmd.o
OBJS   +=   fsm/hdoipd_fsm.o
OBJS   +=   fsm/hdoipd_default.o
OBJS   +=   fsm/hdoipd_task.o
CFLAGS += -Ihdcp
OBJS   +=   hdcp/bigdig/bigd.o
OBJS   +=   hdcp/bigdig/bigdigits.o
OBJS   +=   hdcp/sha256/sha256.o
OBJS   +=   hdcp/rsaes-oaep/rsaes.o
OBJS   +=   hdcp/rsassa_pkcs1/rsassa.o
OBJS   +=   hdcp/aes128/aes_encrypt.o
OBJS   +=   hdcp/protocol/protocol.o
#OBJS   +=   hdcp/transmitter/transmitter.o
OBJS   +=   hdcp/bcrypt/b_main.o
OBJS   +=   hdcp/bcrypt/blowfish.o
OBJS   +=   hdcp/bcrypt/rwfile.o
OBJS   +=   hdcp/bcrypt/keys.o
OBJS   +=   hdcp/bcrypt/wrapbf.o
OBJS   +=   hdcp/bcrypt/endian.o
#OBJS   +=   hdcp/receiver/receiver.o
OBJS   +=   hdcp/hdcp.o
CFLAGS += -Iimage
OBJS   +=   image/hoi_image.o
OBJS   +=   image/hoi_res.o
CFLAGS += -Irscp
OBJS   +=   rscp/map.o
OBJS   +=   rscp/rscp_net.o
OBJS   +=   rscp/rscp_client.o
OBJS   +=   rscp/rscp_command.o
OBJS   +=   rscp/rscp_connection.o
OBJS   +=   rscp/rscp_default.o
OBJS   +=   rscp/rscp_listener.o
OBJS   +=   rscp/rscp_media.o
OBJS   +=   rscp/rscp_parse_header.o
OBJS   +=   rscp/rscp_parse_table.o
OBJS   +=   rscp/rscp_server.o
OBJS   +=   rscp/rscp_string.o
CFLAGS += -Iosd
OBJS   +=   osd/hdoipd_osd.o
CFLAGS += -Imedia
OBJS   +=   media/box_sys.o
OBJS   +=   media/vrb_video.o
OBJS   +=   media/vtb_video.o
OBJS   +=   media/vrb_audio.o
OBJS   +=   media/vtb_audio.o
CFLAGS += -Iconfig
OBJS   +=   config/hoi_cfg.o
CFLAGS += -Imulticast
OBJS   +=   multicast/multicast.o
OBJS   +=   multicast/client_list.o
CFLAGS += -Ialive
OBJS   +=   alive/alive_check.o
CFLAGS += -Ilog
OBJS   +=   log/hdoip_log.o
CFLAGS += -Iusb
OBJS   +=   usb/usb.o
CFLAGS += -Itest
OBJS   +=   test/testimage.o

# we need the ioctl defines from hdoip_types.h
CFLAGS += -I../../../vendors/InES/eva/modules/hdoip_core/driver
# we need the instruction-codes defines from led_drv_instructions.h
CFLAGS += -I../../../vendors/InES/eva/modules/hdoip_core/driver/led
CFLAGS += -std=gnu99

LDLIBS += -lpthread -lrt

include ../Makefile.common
